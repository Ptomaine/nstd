<HTML><HEAD><TITLE>Anti-Grain Geometry - </TITLE>
<META http-equiv="Content-Type" content="text/html"/>
<LINK rel="stylesheet" type="text/css" href="../../agg.styles.css"/>
</HEAD>
<TABLE width="640px" border="0" cellspacing="0" cellpadding="0"><TR><TD><PRE><SPAN class="rem">//----------------------------------------------------------------------------</SPAN>
<SPAN class="rem">// Anti-Grain Geometry (AGG) - Version 2.5</SPAN>
<SPAN class="rem">// A high quality rendering engine for C++</SPAN>
<SPAN class="rem">// Copyright (C) 2002-2006 Maxim Shemanarev</SPAN>
<SPAN class="rem">// Contact: mcseem@antigrain.com</SPAN>
<SPAN class="rem">//          mcseemagg@yahoo.com</SPAN>
<SPAN class="rem">//          http://antigrain.com</SPAN>
<SPAN class="rem">// </SPAN>
<SPAN class="rem">// AGG is free software; you can redistribute it and/or</SPAN>
<SPAN class="rem">// modify it under the terms of the GNU General Public License</SPAN>
<SPAN class="rem">// as published by the Free Software Foundation; either version 2</SPAN>
<SPAN class="rem">// of the License, or (at your option) any later version.</SPAN>
<SPAN class="rem">// </SPAN>
<SPAN class="rem">// AGG is distributed in the hope that it will be useful,</SPAN>
<SPAN class="rem">// but WITHOUT ANY WARRANTY; without even the implied warranty of</SPAN>
<SPAN class="rem">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</SPAN>
<SPAN class="rem">// GNU General Public License for more details.</SPAN>
<SPAN class="rem">// </SPAN>
<SPAN class="rem">// You should have received a copy of the GNU General Public License</SPAN>
<SPAN class="rem">// along with AGG; if not, write to the Free Software</SPAN>
<SPAN class="rem">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, </SPAN>
<SPAN class="rem">// MA 02110-1301, USA.</SPAN>
<SPAN class="rem">//----------------------------------------------------------------------------</SPAN>

<SPAN class="kw2">#ifndef</SPAN> AGG_BASICS_INCLUDED
<SPAN class="kw2">#define</SPAN> AGG_BASICS_INCLUDED

<SPAN class="kw2">#include</SPAN> <SPAN class="op">&lt;</SPAN>math<SPAN class="op">.</SPAN>h<SPAN class="op">&gt;</SPAN>
<SPAN class="kw2">#include</SPAN> <SPAN class="str">&quot;<A href="agg_config.h.html">agg_config.h</A>&quot;</SPAN>

<SPAN class="rem">//---------------------------------------------------------<A name="AGG_CUSTOM_ALLOCATOR"><B></B></A><A href="agg_basics.h.html#AGG_CUSTOM_ALLOCATOR">AGG_CUSTOM_ALLOCATOR</A></SPAN>
<SPAN class="kw2">#ifdef</SPAN> <A href="agg_basics.h.html#AGG_CUSTOM_ALLOCATOR">AGG_CUSTOM_ALLOCATOR</A>
<SPAN class="kw2">#include</SPAN> <SPAN class="str">&quot;agg_allocator.h&quot;</SPAN>
<SPAN class="kw2">#else</SPAN>
<SPAN class="kw1">namespace</SPAN> agg
<SPAN class="op">{</SPAN>
    <SPAN class="rem">// The policy of all AGG containers and memory allocation strategy </SPAN>
    <SPAN class="rem">// in general is that no allocated data requires explicit construction.</SPAN>
    <SPAN class="rem">// It means that the allocator can be really simple; you can even</SPAN>
    <SPAN class="rem">// replace new/delete to malloc/free. The constructors and destructors </SPAN>
    <SPAN class="rem">// won&#039;t be called in this case, however everything will remain working. </SPAN>
    <SPAN class="rem">// The second argument of deallocate() is the size of the allocated </SPAN>
    <SPAN class="rem">// block. You can use this information if you wish.</SPAN>
    <SPAN class="rem">//------------------------------------------------------------<A name="pod_allocator"><B></B></A><A href="agg_basics.h.html#pod_allocator">pod_allocator</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> T<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#pod_allocator">pod_allocator</A>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">static</SPAN> T<SPAN class="op">*</SPAN>   <SPAN class="kw1">allocate</SPAN><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> num<SPAN class="op">)</SPAN>       <SPAN class="op">{</SPAN> <SPAN class="kw1">return</SPAN> <SPAN class="kw1">new</SPAN> T <SPAN class="op">[</SPAN>num<SPAN class="op">]</SPAN><SPAN class="op">;</SPAN> <SPAN class="op">}</SPAN>
        <SPAN class="kw1">static</SPAN> <SPAN class="kw1">void</SPAN> deallocate<SPAN class="op">(</SPAN>T<SPAN class="op">*</SPAN> ptr<SPAN class="op">,</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN> <SPAN class="kw1">delete</SPAN> <SPAN class="op">[</SPAN><SPAN class="op">]</SPAN> ptr<SPAN class="op">;</SPAN>      <SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">// Single object allocator. It&#039;s also can be replaced with your custom</SPAN>
    <SPAN class="rem">// allocator. The difference is that it can only allocate a single </SPAN>
    <SPAN class="rem">// object and the constructor and destructor must be called. </SPAN>
    <SPAN class="rem">// In AGG there is no need to allocate an array of objects with</SPAN>
    <SPAN class="rem">// calling their constructors (only single ones). So that, if you</SPAN>
    <SPAN class="rem">// replace these new/delete to malloc/free make sure that the in-place</SPAN>
    <SPAN class="rem">// new is called and take care of calling the destructor too.</SPAN>
    <SPAN class="rem">//------------------------------------------------------------<A name="obj_allocator"><B></B></A><A href="agg_basics.h.html#obj_allocator">obj_allocator</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> T<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#obj_allocator">obj_allocator</A>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">static</SPAN> T<SPAN class="op">*</SPAN>   <SPAN class="kw1">allocate</SPAN><SPAN class="op">(</SPAN><SPAN class="op">)</SPAN>         <SPAN class="op">{</SPAN> <SPAN class="kw1">return</SPAN> <SPAN class="kw1">new</SPAN> T<SPAN class="op">;</SPAN> <SPAN class="op">}</SPAN>
        <SPAN class="kw1">static</SPAN> <SPAN class="kw1">void</SPAN> deallocate<SPAN class="op">(</SPAN>T<SPAN class="op">*</SPAN> ptr<SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN> <SPAN class="kw1">delete</SPAN> ptr<SPAN class="op">;</SPAN>   <SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>
<SPAN class="op">}</SPAN>
<SPAN class="kw2">#endif</SPAN>


<SPAN class="rem">//-------------------------------------------------------- Default basic types</SPAN>
<SPAN class="rem">//</SPAN>
<SPAN class="rem">// If the compiler has different capacity of the basic types you can redefine</SPAN>
<SPAN class="rem">// them via the compiler command line or by generating <A href="agg_config.h.html">agg_config.h</A> that is</SPAN>
<SPAN class="rem">// empty by default.</SPAN>
<SPAN class="rem">//</SPAN>
<SPAN class="kw2">#ifndef</SPAN> AGG_INT8
<SPAN class="kw2">#define</SPAN> AGG_INT8 <SPAN class="kw1">signed</SPAN> <SPAN class="kw1">char</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw2">#ifndef</SPAN> AGG_INT8U
<SPAN class="kw2">#define</SPAN> AGG_INT8U <SPAN class="kw1">unsigned</SPAN> <SPAN class="kw1">char</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw2">#ifndef</SPAN> AGG_INT16
<SPAN class="kw2">#define</SPAN> AGG_INT16 <SPAN class="kw1">short</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw2">#ifndef</SPAN> AGG_INT16U
<SPAN class="kw2">#define</SPAN> AGG_INT16U <SPAN class="kw1">unsigned</SPAN> <SPAN class="kw1">short</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw2">#ifndef</SPAN> AGG_INT32
<SPAN class="kw2">#define</SPAN> AGG_INT32 <SPAN class="kw1">int</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw2">#ifndef</SPAN> AGG_INT32U
<SPAN class="kw2">#define</SPAN> AGG_INT32U <SPAN class="kw1">unsigned</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw2">#ifndef</SPAN> AGG_INT64
<SPAN class="kw2">#if</SPAN> defined<SPAN class="op">(</SPAN>_MSC_VER<SPAN class="op">)</SPAN> <SPAN class="op">||</SPAN> defined<SPAN class="op">(</SPAN>__BORLANDC__<SPAN class="op">)</SPAN>
<SPAN class="kw2">#define</SPAN> AGG_INT64 <SPAN class="kw1">signed</SPAN> <SPAN class="kw1">__<A href="agg_basics.h.html#int64">int64</A></SPAN>
<SPAN class="kw2">#else</SPAN>
<SPAN class="kw2">#define</SPAN> AGG_INT64 <SPAN class="kw1">signed</SPAN> <SPAN class="kw1">long</SPAN> <SPAN class="kw1">long</SPAN>
<SPAN class="kw2">#endif</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw2">#ifndef</SPAN> AGG_INT64U
<SPAN class="kw2">#if</SPAN> defined<SPAN class="op">(</SPAN>_MSC_VER<SPAN class="op">)</SPAN> <SPAN class="op">||</SPAN> defined<SPAN class="op">(</SPAN>__BORLANDC__<SPAN class="op">)</SPAN>
<SPAN class="kw2">#define</SPAN> AGG_INT64U <SPAN class="kw1">unsigned</SPAN> <SPAN class="kw1">__<A href="agg_basics.h.html#int64">int64</A></SPAN>
<SPAN class="kw2">#else</SPAN>
<SPAN class="kw2">#define</SPAN> AGG_INT64U <SPAN class="kw1">unsigned</SPAN> <SPAN class="kw1">long</SPAN> <SPAN class="kw1">long</SPAN>
<SPAN class="kw2">#endif</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="rem">//------------------------------------------------ Some fixes for MS Visual C++</SPAN>
<SPAN class="kw2">#if</SPAN> defined<SPAN class="op">(</SPAN>_MSC_VER<SPAN class="op">)</SPAN>
<SPAN class="kw2">#pragma</SPAN> warning<SPAN class="op">(</SPAN>disable:<SPAN class="num">4786</SPAN><SPAN class="op">)</SPAN> <SPAN class="rem">// Identifier was truncated...</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw2">#if</SPAN> defined<SPAN class="op">(</SPAN>_MSC_VER<SPAN class="op">)</SPAN>
<SPAN class="kw2">#define</SPAN> AGG_INLINE <SPAN class="kw1">__forceinline</SPAN>
<SPAN class="kw2">#else</SPAN>
<SPAN class="kw2">#define</SPAN> AGG_INLINE <SPAN class="kw1">inline</SPAN>
<SPAN class="kw2">#endif</SPAN>

<SPAN class="kw1">namespace</SPAN> agg
<SPAN class="op">{</SPAN>
    <SPAN class="rem">//-------------------------------------------------------------------------</SPAN>
    <SPAN class="kw1">typedef</SPAN> AGG_INT8   <A href="agg_basics.h.html#int8">int8</A><SPAN class="op">;</SPAN>         <SPAN class="rem">//----<A name="int8"><B></B></A><A href="agg_basics.h.html#int8">int8</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> AGG_INT8U  <A href="agg_basics.h.html#int8u">int8u</A><SPAN class="op">;</SPAN>        <SPAN class="rem">//----<A name="int8u"><B></B></A><A href="agg_basics.h.html#int8u">int8u</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> AGG_INT16  <A href="agg_basics.h.html#int16">int16</A><SPAN class="op">;</SPAN>        <SPAN class="rem">//----<A name="int16"><B></B></A><A href="agg_basics.h.html#int16">int16</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> AGG_INT16U <A href="agg_basics.h.html#int16u">int16u</A><SPAN class="op">;</SPAN>       <SPAN class="rem">//----<A name="int16u"><B></B></A><A href="agg_basics.h.html#int16u">int16u</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> AGG_INT32  <A href="agg_basics.h.html#int32">int32</A><SPAN class="op">;</SPAN>        <SPAN class="rem">//----<A name="int32"><B></B></A><A href="agg_basics.h.html#int32">int32</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> AGG_INT32U <A href="agg_basics.h.html#int32u">int32u</A><SPAN class="op">;</SPAN>       <SPAN class="rem">//----<A name="int32u"><B></B></A><A href="agg_basics.h.html#int32u">int32u</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> AGG_INT64  <A href="agg_basics.h.html#int64">int64</A><SPAN class="op">;</SPAN>        <SPAN class="rem">//----<A name="int64"><B></B></A><A href="agg_basics.h.html#int64">int64</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> AGG_INT64U <A href="agg_basics.h.html#int64u">int64u</A><SPAN class="op">;</SPAN>       <SPAN class="rem">//----<A name="int64u"><B></B></A><A href="agg_basics.h.html#int64u">int64u</A></SPAN>

<SPAN class="kw2">#if</SPAN> defined<SPAN class="op">(</SPAN>AGG_FISTP<SPAN class="op">)</SPAN>
<SPAN class="kw2">#pragma</SPAN> warning<SPAN class="op">(</SPAN>push<SPAN class="op">)</SPAN>
<SPAN class="kw2">#pragma</SPAN> warning<SPAN class="op">(</SPAN>disable : <SPAN class="num">4035</SPAN><SPAN class="op">)</SPAN> <SPAN class="rem">//Disable warning &quot;no return value&quot;</SPAN>
    AGG_INLINE <SPAN class="kw1">int</SPAN> <A href="agg_basics.h.html#iround">iround</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>              <SPAN class="rem">//-------<A name="iround"><B></B></A><A href="agg_basics.h.html#iround">iround</A></SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">int</SPAN> t<SPAN class="op">;</SPAN>
        <SPAN class="kw1">__asm</SPAN> fld   qword ptr <SPAN class="op">[</SPAN>v<SPAN class="op">]</SPAN>
        <SPAN class="kw1">__asm</SPAN> fistp dword ptr <SPAN class="op">[</SPAN>t<SPAN class="op">]</SPAN>
        <SPAN class="kw1">__asm</SPAN> mov eax<SPAN class="op">,</SPAN> dword ptr <SPAN class="op">[</SPAN>t<SPAN class="op">]</SPAN>
    <SPAN class="op">}</SPAN>
    AGG_INLINE <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#uround">uround</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>         <SPAN class="rem">//-------<A name="uround"><B></B></A><A href="agg_basics.h.html#uround">uround</A></SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">unsigned</SPAN> t<SPAN class="op">;</SPAN>
        <SPAN class="kw1">__asm</SPAN> fld   qword ptr <SPAN class="op">[</SPAN>v<SPAN class="op">]</SPAN>
        <SPAN class="kw1">__asm</SPAN> fistp dword ptr <SPAN class="op">[</SPAN>t<SPAN class="op">]</SPAN>
        <SPAN class="kw1">__asm</SPAN> mov eax<SPAN class="op">,</SPAN> dword ptr <SPAN class="op">[</SPAN>t<SPAN class="op">]</SPAN>
    <SPAN class="op">}</SPAN>
<SPAN class="kw2">#pragma</SPAN> warning<SPAN class="op">(</SPAN>pop<SPAN class="op">)</SPAN>
    AGG_INLINE <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#ufloor">ufloor</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>         <SPAN class="rem">//-------<A name="ufloor"><B></B></A><A href="agg_basics.h.html#ufloor">ufloor</A></SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">(</SPAN>floor<SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
    AGG_INLINE <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#uceil">uceil</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>          <SPAN class="rem">//--------<A name="uceil"><B></B></A><A href="agg_basics.h.html#uceil">uceil</A></SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">(</SPAN>ceil<SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
<SPAN class="kw2">#elif</SPAN> defined<SPAN class="op">(</SPAN>AGG_QIFIST<SPAN class="op">)</SPAN>
    AGG_INLINE <SPAN class="kw1">int</SPAN> <A href="agg_basics.h.html#iround">iround</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">int</SPAN><SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
    AGG_INLINE <SPAN class="kw1">int</SPAN> <A href="agg_basics.h.html#uround">uround</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
    AGG_INLINE <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#ufloor">ufloor</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">(</SPAN>floor<SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
    AGG_INLINE <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#uceil">uceil</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">(</SPAN>ceil<SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
<SPAN class="kw2">#else</SPAN>
    AGG_INLINE <SPAN class="kw1">int</SPAN> <A href="agg_basics.h.html#iround">iround</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">int</SPAN><SPAN class="op">(</SPAN><SPAN class="op">(</SPAN>v <SPAN class="op">&lt;</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">.</SPAN><SPAN class="num">0</SPAN><SPAN class="op">)</SPAN> ? v <SPAN class="op">-</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">.</SPAN><SPAN class="num">5</SPAN> : v <SPAN class="op">+</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">.</SPAN><SPAN class="num">5</SPAN><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
    AGG_INLINE <SPAN class="kw1">int</SPAN> <A href="agg_basics.h.html#uround">uround</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">(</SPAN>v <SPAN class="op">+</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">.</SPAN><SPAN class="num">5</SPAN><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
    AGG_INLINE <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#ufloor">ufloor</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
    AGG_INLINE <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#uceil">uceil</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="kw1">unsigned</SPAN><SPAN class="op">(</SPAN>ceil<SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
<SPAN class="kw2">#endif</SPAN>

    <SPAN class="rem">//---------------------------------------------------------------<A name="saturation"><B></B></A><A href="agg_basics.h.html#saturation">saturation</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">int</SPAN> Limit<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#saturation">saturation</A>
    <SPAN class="op">{</SPAN>
        AGG_INLINE <SPAN class="kw1">static</SPAN> <SPAN class="kw1">int</SPAN> <A href="agg_basics.h.html#iround">iround</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> v<SPAN class="op">)</SPAN>
        <SPAN class="op">{</SPAN>
            <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>v <SPAN class="op">&lt;</SPAN> <SPAN class="kw1">double</SPAN><SPAN class="op">(</SPAN><SPAN class="op">-</SPAN>Limit<SPAN class="op">)</SPAN><SPAN class="op">)</SPAN> <SPAN class="kw1">return</SPAN> <SPAN class="op">-</SPAN>Limit<SPAN class="op">;</SPAN>
            <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>v <SPAN class="op">&gt;</SPAN> <SPAN class="kw1">double</SPAN><SPAN class="op">(</SPAN> Limit<SPAN class="op">)</SPAN><SPAN class="op">)</SPAN> <SPAN class="kw1">return</SPAN>  Limit<SPAN class="op">;</SPAN>
            <SPAN class="kw1">return</SPAN> agg::<A href="agg_basics.h.html#iround">iround</A><SPAN class="op">(</SPAN>v<SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
        <SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//------------------------------------------------------------------<A name="mul_one"><B></B></A><A href="agg_basics.h.html#mul_one">mul_one</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">unsigned</SPAN> Shift<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#mul_one">mul_one</A>
    <SPAN class="op">{</SPAN>
        AGG_INLINE <SPAN class="kw1">static</SPAN> <SPAN class="kw1">unsigned</SPAN> mul<SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> a<SPAN class="op">,</SPAN> <SPAN class="kw1">unsigned</SPAN> b<SPAN class="op">)</SPAN>
        <SPAN class="op">{</SPAN>
            <SPAN class="kw1">register</SPAN> <SPAN class="kw1">unsigned</SPAN> q <SPAN class="op">=</SPAN> a <SPAN class="op">*</SPAN> b <SPAN class="op">+</SPAN> <SPAN class="op">(</SPAN><SPAN class="num">1</SPAN> <SPAN class="op">&lt;&lt;</SPAN> <SPAN class="op">(</SPAN>Shift<SPAN class="op">-</SPAN><SPAN class="num">1</SPAN><SPAN class="op">)</SPAN><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
            <SPAN class="kw1">return</SPAN> <SPAN class="op">(</SPAN>q <SPAN class="op">+</SPAN> <SPAN class="op">(</SPAN>q <SPAN class="op">&gt;&gt;</SPAN> Shift<SPAN class="op">)</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">&gt;&gt;</SPAN> Shift<SPAN class="op">;</SPAN>
        <SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//-------------------------------------------------------------------------</SPAN>
    <SPAN class="kw1">typedef</SPAN> <SPAN class="kw1">unsigned</SPAN> <SPAN class="kw1">char</SPAN> <A href="agg_basics.h.html#cover_type">cover_type</A><SPAN class="op">;</SPAN>    <SPAN class="rem">//----<A name="cover_type"><B></B></A><A href="agg_basics.h.html#cover_type">cover_type</A></SPAN>
    <SPAN class="kw1">enum</SPAN> cover_scale_e
    <SPAN class="op">{</SPAN>
        <A href="agg_basics.h.html#cover_shift">cover_shift</A> <SPAN class="op">=</SPAN> <SPAN class="num">8</SPAN><SPAN class="op">,</SPAN>                 <SPAN class="rem">//----<A name="cover_shift"><B></B></A><A href="agg_basics.h.html#cover_shift">cover_shift</A></SPAN>
        <A href="agg_basics.h.html#cover_size">cover_size</A>  <SPAN class="op">=</SPAN> <SPAN class="num">1</SPAN> <SPAN class="op">&lt;&lt;</SPAN> <A href="agg_basics.h.html#cover_shift">cover_shift</A><SPAN class="op">,</SPAN>  <SPAN class="rem">//----<A name="cover_size"><B></B></A><A href="agg_basics.h.html#cover_size">cover_size</A> </SPAN>
        <A href="agg_basics.h.html#cover_mask">cover_mask</A>  <SPAN class="op">=</SPAN> <A href="agg_basics.h.html#cover_size">cover_size</A> <SPAN class="op">-</SPAN> <SPAN class="num">1</SPAN><SPAN class="op">,</SPAN>    <SPAN class="rem">//----<A name="cover_mask"><B></B></A><A href="agg_basics.h.html#cover_mask">cover_mask</A> </SPAN>
        <A href="agg_basics.h.html#cover_none">cover_none</A>  <SPAN class="op">=</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">,</SPAN>                 <SPAN class="rem">//----<A name="cover_none"><B></B></A><A href="agg_basics.h.html#cover_none">cover_none</A> </SPAN>
        <A href="agg_basics.h.html#cover_full">cover_full</A>  <SPAN class="op">=</SPAN> <A href="agg_basics.h.html#cover_mask">cover_mask</A>         <SPAN class="rem">//----<A name="cover_full"><B></B></A><A href="agg_basics.h.html#cover_full">cover_full</A> </SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//----------------------------------------------------<A name="poly_subpixel_scale_e"><B></B></A><A href="agg_basics.h.html#poly_subpixel_scale_e">poly_subpixel_scale_e</A></SPAN>
    <SPAN class="rem">// These constants determine the subpixel accuracy, to be more precise, </SPAN>
    <SPAN class="rem">// the number of bits of the fractional part of the coordinates. </SPAN>
    <SPAN class="rem">// The possible coordinate capacity in bits can be calculated by formula:</SPAN>
    <SPAN class="rem">// sizeof(int) * 8 - <A href="agg_basics.h.html#poly_subpixel_shift">poly_subpixel_shift</A>, i.e, for 32-bit integers and</SPAN>
    <SPAN class="rem">// 8-bits fractional part the capacity is 24 bits.</SPAN>
    <SPAN class="kw1">enum</SPAN> <A href="agg_basics.h.html#poly_subpixel_scale_e">poly_subpixel_scale_e</A>
    <SPAN class="op">{</SPAN>
        <A href="agg_basics.h.html#poly_subpixel_shift">poly_subpixel_shift</A> <SPAN class="op">=</SPAN> <SPAN class="num">8</SPAN><SPAN class="op">,</SPAN>                      <SPAN class="rem">//----<A name="poly_subpixel_shift"><B></B></A><A href="agg_basics.h.html#poly_subpixel_shift">poly_subpixel_shift</A></SPAN>
        <A href="agg_basics.h.html#poly_subpixel_scale">poly_subpixel_scale</A> <SPAN class="op">=</SPAN> <SPAN class="num">1</SPAN><SPAN class="op">&lt;&lt;</SPAN><A href="agg_basics.h.html#poly_subpixel_shift">poly_subpixel_shift</A><SPAN class="op">,</SPAN> <SPAN class="rem">//----<A name="poly_subpixel_scale"><B></B></A><A href="agg_basics.h.html#poly_subpixel_scale">poly_subpixel_scale</A> </SPAN>
        <A href="agg_basics.h.html#poly_subpixel_mask">poly_subpixel_mask</A>  <SPAN class="op">=</SPAN> <A href="agg_basics.h.html#poly_subpixel_scale">poly_subpixel_scale</A><SPAN class="op">-</SPAN><SPAN class="num">1</SPAN><SPAN class="op">,</SPAN>  <SPAN class="rem">//----<A name="poly_subpixel_mask"><B></B></A><A href="agg_basics.h.html#poly_subpixel_mask">poly_subpixel_mask</A> </SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//----------------------------------------------------------<A name="filling_rule_e"><B></B></A><A href="agg_basics.h.html#filling_rule_e">filling_rule_e</A></SPAN>
    <SPAN class="kw1">enum</SPAN> <A href="agg_basics.h.html#filling_rule_e">filling_rule_e</A>
    <SPAN class="op">{</SPAN>
        fill_non_zero<SPAN class="op">,</SPAN>
        fill_even_odd
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//-----------------------------------------------------------------------<A name="pi"><B></B></A><A href="agg_basics.h.html#pi">pi</A></SPAN>
    <SPAN class="kw1">const</SPAN> <SPAN class="kw1">double</SPAN> <A href="agg_basics.h.html#pi">pi</A> <SPAN class="op">=</SPAN> <SPAN class="num">3</SPAN><SPAN class="op">.</SPAN><SPAN class="num">14159265358979323846</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//------------------------------------------------------------------<A name="deg2rad"><B></B></A><A href="agg_basics.h.html#deg2rad">deg2rad</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">double</SPAN> <A href="agg_basics.h.html#deg2rad">deg2rad</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> deg<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> deg <SPAN class="op">*</SPAN> <A href="agg_basics.h.html#pi">pi</A> <SPAN class="op">/</SPAN> <SPAN class="num">180</SPAN><SPAN class="op">.</SPAN><SPAN class="num">0</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//------------------------------------------------------------------<A name="rad2deg"><B></B></A><A href="agg_basics.h.html#rad2deg">rad2deg</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">double</SPAN> <A href="agg_basics.h.html#rad2deg">rad2deg</A><SPAN class="op">(</SPAN><SPAN class="kw1">double</SPAN> rad<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> rad <SPAN class="op">*</SPAN> <SPAN class="num">180</SPAN><SPAN class="op">.</SPAN><SPAN class="num">0</SPAN> <SPAN class="op">/</SPAN> <A href="agg_basics.h.html#pi">pi</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>
 
    <SPAN class="rem">//----------------------------------------------------------------<A name="rect_base"><B></B></A><A href="agg_basics.h.html#rect_base">rect_base</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> T<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#rect_base">rect_base</A>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">typedef</SPAN> T            value_type<SPAN class="op">;</SPAN>
        <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#rect_base">rect_base</A><SPAN class="op">&lt;</SPAN>T<SPAN class="op">&gt;</SPAN> self_type<SPAN class="op">;</SPAN>
        T x1<SPAN class="op">,</SPAN> y1<SPAN class="op">,</SPAN> x2<SPAN class="op">,</SPAN> y2<SPAN class="op">;</SPAN>

        <A href="agg_basics.h.html#rect_base">rect_base</A><SPAN class="op">(</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
        <A href="agg_basics.h.html#rect_base">rect_base</A><SPAN class="op">(</SPAN>T x1_<SPAN class="op">,</SPAN> T y1_<SPAN class="op">,</SPAN> T x2_<SPAN class="op">,</SPAN> T y2_<SPAN class="op">)</SPAN> :
            x1<SPAN class="op">(</SPAN>x1_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> y1<SPAN class="op">(</SPAN>y1_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> x2<SPAN class="op">(</SPAN>x2_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> y2<SPAN class="op">(</SPAN>y2_<SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>

        <SPAN class="kw1">void</SPAN> init<SPAN class="op">(</SPAN>T x1_<SPAN class="op">,</SPAN> T y1_<SPAN class="op">,</SPAN> T x2_<SPAN class="op">,</SPAN> T y2_<SPAN class="op">)</SPAN> 
        <SPAN class="op">{</SPAN>
            x1 <SPAN class="op">=</SPAN> x1_<SPAN class="op">;</SPAN> y1 <SPAN class="op">=</SPAN> y1_<SPAN class="op">;</SPAN> x2 <SPAN class="op">=</SPAN> x2_<SPAN class="op">;</SPAN> y2 <SPAN class="op">=</SPAN> y2_<SPAN class="op">;</SPAN> 
        <SPAN class="op">}</SPAN>

        <SPAN class="kw1">const</SPAN> self_type<SPAN class="op">&amp;</SPAN> normalize<SPAN class="op">(</SPAN><SPAN class="op">)</SPAN>
        <SPAN class="op">{</SPAN>
            T t<SPAN class="op">;</SPAN>
            <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>x1 <SPAN class="op">&gt;</SPAN> x2<SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN> t <SPAN class="op">=</SPAN> x1<SPAN class="op">;</SPAN> x1 <SPAN class="op">=</SPAN> x2<SPAN class="op">;</SPAN> x2 <SPAN class="op">=</SPAN> t<SPAN class="op">;</SPAN> <SPAN class="op">}</SPAN>
            <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>y1 <SPAN class="op">&gt;</SPAN> y2<SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN> t <SPAN class="op">=</SPAN> y1<SPAN class="op">;</SPAN> y1 <SPAN class="op">=</SPAN> y2<SPAN class="op">;</SPAN> y2 <SPAN class="op">=</SPAN> t<SPAN class="op">;</SPAN> <SPAN class="op">}</SPAN>
            <SPAN class="kw1">return</SPAN> <SPAN class="op">*</SPAN><SPAN class="kw1">this</SPAN><SPAN class="op">;</SPAN>
        <SPAN class="op">}</SPAN>

        <SPAN class="kw1">bool</SPAN> clip<SPAN class="op">(</SPAN><SPAN class="kw1">const</SPAN> self_type<SPAN class="op">&amp;</SPAN> r<SPAN class="op">)</SPAN>
        <SPAN class="op">{</SPAN>
            <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>x2 <SPAN class="op">&gt;</SPAN> r<SPAN class="op">.</SPAN>x2<SPAN class="op">)</SPAN> x2 <SPAN class="op">=</SPAN> r<SPAN class="op">.</SPAN>x2<SPAN class="op">;</SPAN>
            <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>y2 <SPAN class="op">&gt;</SPAN> r<SPAN class="op">.</SPAN>y2<SPAN class="op">)</SPAN> y2 <SPAN class="op">=</SPAN> r<SPAN class="op">.</SPAN>y2<SPAN class="op">;</SPAN>
            <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>x1 <SPAN class="op">&lt;</SPAN> r<SPAN class="op">.</SPAN>x1<SPAN class="op">)</SPAN> x1 <SPAN class="op">=</SPAN> r<SPAN class="op">.</SPAN>x1<SPAN class="op">;</SPAN>
            <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>y1 <SPAN class="op">&lt;</SPAN> r<SPAN class="op">.</SPAN>y1<SPAN class="op">)</SPAN> y1 <SPAN class="op">=</SPAN> r<SPAN class="op">.</SPAN>y1<SPAN class="op">;</SPAN>
            <SPAN class="kw1">return</SPAN> x1 <SPAN class="op">&lt;=</SPAN> x2 <SPAN class="op">&amp;&amp;</SPAN> y1 <SPAN class="op">&lt;=</SPAN> y2<SPAN class="op">;</SPAN>
        <SPAN class="op">}</SPAN>

        <SPAN class="kw1">bool</SPAN> is_valid<SPAN class="op">(</SPAN><SPAN class="op">)</SPAN> <SPAN class="kw1">const</SPAN>
        <SPAN class="op">{</SPAN>
            <SPAN class="kw1">return</SPAN> x1 <SPAN class="op">&lt;=</SPAN> x2 <SPAN class="op">&amp;&amp;</SPAN> y1 <SPAN class="op">&lt;=</SPAN> y2<SPAN class="op">;</SPAN>
        <SPAN class="op">}</SPAN>

        <SPAN class="kw1">bool</SPAN> hit_test<SPAN class="op">(</SPAN>T x<SPAN class="op">,</SPAN> T y<SPAN class="op">)</SPAN> <SPAN class="kw1">const</SPAN>
        <SPAN class="op">{</SPAN>
            <SPAN class="kw1">return</SPAN> <SPAN class="op">(</SPAN>x <SPAN class="op">&gt;=</SPAN> x1 <SPAN class="op">&amp;&amp;</SPAN> x <SPAN class="op">&lt;=</SPAN> x2 <SPAN class="op">&amp;&amp;</SPAN> y <SPAN class="op">&gt;=</SPAN> y1 <SPAN class="op">&amp;&amp;</SPAN> y <SPAN class="op">&lt;=</SPAN> y2<SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
        <SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//-----------------------------------------------------<A name="intersect_rectangles"><B></B></A><A href="agg_basics.h.html#intersect_rectangles">intersect_rectangles</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> Rect<SPAN class="op">&gt;</SPAN> 
    <SPAN class="kw1">inline</SPAN> Rect <A href="agg_basics.h.html#intersect_rectangles">intersect_rectangles</A><SPAN class="op">(</SPAN><SPAN class="kw1">const</SPAN> Rect<SPAN class="op">&amp;</SPAN> r1<SPAN class="op">,</SPAN> <SPAN class="kw1">const</SPAN> Rect<SPAN class="op">&amp;</SPAN> r2<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        Rect r <SPAN class="op">=</SPAN> r1<SPAN class="op">;</SPAN>

        <SPAN class="rem">// First process x2,y2 because the other order </SPAN>
        <SPAN class="rem">// results in Internal Compiler Error under </SPAN>
        <SPAN class="rem">// Microsoft Visual C++ .NET 2003 69462-335-0000007-18038 in </SPAN>
        <SPAN class="rem">// case of &quot;Maximize Speed&quot; optimization option.</SPAN>
        <SPAN class="rem">//-----------------</SPAN>
        <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>r<SPAN class="op">.</SPAN>x2 <SPAN class="op">&gt;</SPAN> r2<SPAN class="op">.</SPAN>x2<SPAN class="op">)</SPAN> r<SPAN class="op">.</SPAN>x2 <SPAN class="op">=</SPAN> r2<SPAN class="op">.</SPAN>x2<SPAN class="op">;</SPAN> 
        <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>r<SPAN class="op">.</SPAN>y2 <SPAN class="op">&gt;</SPAN> r2<SPAN class="op">.</SPAN>y2<SPAN class="op">)</SPAN> r<SPAN class="op">.</SPAN>y2 <SPAN class="op">=</SPAN> r2<SPAN class="op">.</SPAN>y2<SPAN class="op">;</SPAN>
        <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>r<SPAN class="op">.</SPAN>x1 <SPAN class="op">&lt;</SPAN> r2<SPAN class="op">.</SPAN>x1<SPAN class="op">)</SPAN> r<SPAN class="op">.</SPAN>x1 <SPAN class="op">=</SPAN> r2<SPAN class="op">.</SPAN>x1<SPAN class="op">;</SPAN>
        <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>r<SPAN class="op">.</SPAN>y1 <SPAN class="op">&lt;</SPAN> r2<SPAN class="op">.</SPAN>y1<SPAN class="op">)</SPAN> r<SPAN class="op">.</SPAN>y1 <SPAN class="op">=</SPAN> r2<SPAN class="op">.</SPAN>y1<SPAN class="op">;</SPAN>
        <SPAN class="kw1">return</SPAN> r<SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>


    <SPAN class="rem">//---------------------------------------------------------<A name="unite_rectangles"><B></B></A><A href="agg_basics.h.html#unite_rectangles">unite_rectangles</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> Rect<SPAN class="op">&gt;</SPAN> 
    <SPAN class="kw1">inline</SPAN> Rect <A href="agg_basics.h.html#unite_rectangles">unite_rectangles</A><SPAN class="op">(</SPAN><SPAN class="kw1">const</SPAN> Rect<SPAN class="op">&amp;</SPAN> r1<SPAN class="op">,</SPAN> <SPAN class="kw1">const</SPAN> Rect<SPAN class="op">&amp;</SPAN> r2<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        Rect r <SPAN class="op">=</SPAN> r1<SPAN class="op">;</SPAN>
        <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>r<SPAN class="op">.</SPAN>x2 <SPAN class="op">&lt;</SPAN> r2<SPAN class="op">.</SPAN>x2<SPAN class="op">)</SPAN> r<SPAN class="op">.</SPAN>x2 <SPAN class="op">=</SPAN> r2<SPAN class="op">.</SPAN>x2<SPAN class="op">;</SPAN>
        <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>r<SPAN class="op">.</SPAN>y2 <SPAN class="op">&lt;</SPAN> r2<SPAN class="op">.</SPAN>y2<SPAN class="op">)</SPAN> r<SPAN class="op">.</SPAN>y2 <SPAN class="op">=</SPAN> r2<SPAN class="op">.</SPAN>y2<SPAN class="op">;</SPAN>
        <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>r<SPAN class="op">.</SPAN>x1 <SPAN class="op">&gt;</SPAN> r2<SPAN class="op">.</SPAN>x1<SPAN class="op">)</SPAN> r<SPAN class="op">.</SPAN>x1 <SPAN class="op">=</SPAN> r2<SPAN class="op">.</SPAN>x1<SPAN class="op">;</SPAN>
        <SPAN class="kw1">if</SPAN><SPAN class="op">(</SPAN>r<SPAN class="op">.</SPAN>y1 <SPAN class="op">&gt;</SPAN> r2<SPAN class="op">.</SPAN>y1<SPAN class="op">)</SPAN> r<SPAN class="op">.</SPAN>y1 <SPAN class="op">=</SPAN> r2<SPAN class="op">.</SPAN>y1<SPAN class="op">;</SPAN>
        <SPAN class="kw1">return</SPAN> r<SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#rect_base">rect_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">int</SPAN><SPAN class="op">&gt;</SPAN>    <A href="agg_basics.h.html#rect_i">rect_i</A><SPAN class="op">;</SPAN> <SPAN class="rem">//----<A name="rect_i"><B></B></A><A href="agg_basics.h.html#rect_i">rect_i</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#rect_base">rect_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">float</SPAN><SPAN class="op">&gt;</SPAN>  <A href="agg_basics.h.html#rect_f">rect_f</A><SPAN class="op">;</SPAN> <SPAN class="rem">//----<A name="rect_f"><B></B></A><A href="agg_basics.h.html#rect_f">rect_f</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#rect_base">rect_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">double</SPAN><SPAN class="op">&gt;</SPAN> <A href="agg_basics.h.html#rect_d">rect_d</A><SPAN class="op">;</SPAN> <SPAN class="rem">//----<A name="rect_d"><B></B></A><A href="agg_basics.h.html#rect_d">rect_d</A></SPAN>

    <SPAN class="rem">//---------------------------------------------------------<A name="path_commands_e"><B></B></A><A href="agg_basics.h.html#path_commands_e">path_commands_e</A></SPAN>
    <SPAN class="kw1">enum</SPAN> <A href="agg_basics.h.html#path_commands_e">path_commands_e</A>
    <SPAN class="op">{</SPAN>
        <A href="agg_basics.h.html#path_cmd_stop">path_cmd_stop</A>     <SPAN class="op">=</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">,</SPAN>        <SPAN class="rem">//----<A name="path_cmd_stop"><B></B></A><A href="agg_basics.h.html#path_cmd_stop">path_cmd_stop</A>    </SPAN>
        <A href="agg_basics.h.html#path_cmd_move_to">path_cmd_move_to</A>  <SPAN class="op">=</SPAN> <SPAN class="num">1</SPAN><SPAN class="op">,</SPAN>        <SPAN class="rem">//----<A name="path_cmd_move_to"><B></B></A><A href="agg_basics.h.html#path_cmd_move_to">path_cmd_move_to</A> </SPAN>
        <A href="agg_basics.h.html#path_cmd_line_to">path_cmd_line_to</A>  <SPAN class="op">=</SPAN> <SPAN class="num">2</SPAN><SPAN class="op">,</SPAN>        <SPAN class="rem">//----<A name="path_cmd_line_to"><B></B></A><A href="agg_basics.h.html#path_cmd_line_to">path_cmd_line_to</A> </SPAN>
        <A href="agg_basics.h.html#path_cmd_curve3">path_cmd_curve3</A>   <SPAN class="op">=</SPAN> <SPAN class="num">3</SPAN><SPAN class="op">,</SPAN>        <SPAN class="rem">//----<A name="path_cmd_curve3"><B></B></A><A href="agg_basics.h.html#path_cmd_curve3">path_cmd_curve3</A>  </SPAN>
        <A href="agg_basics.h.html#path_cmd_curve4">path_cmd_curve4</A>   <SPAN class="op">=</SPAN> <SPAN class="num">4</SPAN><SPAN class="op">,</SPAN>        <SPAN class="rem">//----<A name="path_cmd_curve4"><B></B></A><A href="agg_basics.h.html#path_cmd_curve4">path_cmd_curve4</A>  </SPAN>
        <A href="agg_basics.h.html#path_cmd_curveN">path_cmd_curveN</A>   <SPAN class="op">=</SPAN> <SPAN class="num">5</SPAN><SPAN class="op">,</SPAN>        <SPAN class="rem">//----<A name="path_cmd_curveN"><B></B></A><A href="agg_basics.h.html#path_cmd_curveN">path_cmd_curveN</A></SPAN>
        <A href="agg_basics.h.html#path_cmd_catrom">path_cmd_catrom</A>   <SPAN class="op">=</SPAN> <SPAN class="num">6</SPAN><SPAN class="op">,</SPAN>        <SPAN class="rem">//----<A name="path_cmd_catrom"><B></B></A><A href="agg_basics.h.html#path_cmd_catrom">path_cmd_catrom</A></SPAN>
        <A href="agg_basics.h.html#path_cmd_ubspline">path_cmd_ubspline</A> <SPAN class="op">=</SPAN> <SPAN class="num">7</SPAN><SPAN class="op">,</SPAN>        <SPAN class="rem">//----<A name="path_cmd_ubspline"><B></B></A><A href="agg_basics.h.html#path_cmd_ubspline">path_cmd_ubspline</A></SPAN>
        <A href="agg_basics.h.html#path_cmd_end_poly">path_cmd_end_poly</A> <SPAN class="op">=</SPAN> <SPAN class="num">0x0F</SPAN><SPAN class="op">,</SPAN>     <SPAN class="rem">//----<A name="path_cmd_end_poly"><B></B></A><A href="agg_basics.h.html#path_cmd_end_poly">path_cmd_end_poly</A></SPAN>
        <A href="agg_basics.h.html#path_cmd_mask">path_cmd_mask</A>     <SPAN class="op">=</SPAN> <SPAN class="num">0x0F</SPAN>      <SPAN class="rem">//----<A name="path_cmd_mask"><B></B></A><A href="agg_basics.h.html#path_cmd_mask">path_cmd_mask</A>    </SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//------------------------------------------------------------<A name="path_flags_e"><B></B></A><A href="agg_basics.h.html#path_flags_e">path_flags_e</A></SPAN>
    <SPAN class="kw1">enum</SPAN> <A href="agg_basics.h.html#path_flags_e">path_flags_e</A>
    <SPAN class="op">{</SPAN>
        <A href="agg_basics.h.html#path_flags_none">path_flags_none</A>  <SPAN class="op">=</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">,</SPAN>         <SPAN class="rem">//----<A name="path_flags_none"><B></B></A><A href="agg_basics.h.html#path_flags_none">path_flags_none</A> </SPAN>
        <A href="agg_basics.h.html#path_flags_ccw">path_flags_ccw</A>   <SPAN class="op">=</SPAN> <SPAN class="num">0x10</SPAN><SPAN class="op">,</SPAN>      <SPAN class="rem">//----<A name="path_flags_ccw"><B></B></A><A href="agg_basics.h.html#path_flags_ccw">path_flags_ccw</A>  </SPAN>
        <A href="agg_basics.h.html#path_flags_cw">path_flags_cw</A>    <SPAN class="op">=</SPAN> <SPAN class="num">0x20</SPAN><SPAN class="op">,</SPAN>      <SPAN class="rem">//----<A name="path_flags_cw"><B></B></A><A href="agg_basics.h.html#path_flags_cw">path_flags_cw</A>   </SPAN>
        <A href="agg_basics.h.html#path_flags_close">path_flags_close</A> <SPAN class="op">=</SPAN> <SPAN class="num">0x40</SPAN><SPAN class="op">,</SPAN>      <SPAN class="rem">//----<A name="path_flags_close"><B></B></A><A href="agg_basics.h.html#path_flags_close">path_flags_close</A></SPAN>
        <A href="agg_basics.h.html#path_flags_mask">path_flags_mask</A>  <SPAN class="op">=</SPAN> <SPAN class="num">0xF0</SPAN>       <SPAN class="rem">//----<A name="path_flags_mask"><B></B></A><A href="agg_basics.h.html#path_flags_mask">path_flags_mask</A> </SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//---------------------------------------------------------------<A name="is_vertex"><B></B></A><A href="agg_basics.h.html#is_vertex">is_vertex</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_vertex">is_vertex</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">&gt;=</SPAN> <A href="agg_basics.h.html#path_cmd_move_to">path_cmd_move_to</A> <SPAN class="op">&amp;&amp;</SPAN> c <SPAN class="op">&lt;</SPAN> <A href="agg_basics.h.html#path_cmd_end_poly">path_cmd_end_poly</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//--------------------------------------------------------------<A name="is_drawing"><B></B></A><A href="agg_basics.h.html#is_drawing">is_drawing</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_drawing">is_drawing</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">&gt;=</SPAN> <A href="agg_basics.h.html#path_cmd_line_to">path_cmd_line_to</A> <SPAN class="op">&amp;&amp;</SPAN> c <SPAN class="op">&lt;</SPAN> <A href="agg_basics.h.html#path_cmd_end_poly">path_cmd_end_poly</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//-----------------------------------------------------------------<A name="is_stop"><B></B></A><A href="agg_basics.h.html#is_stop">is_stop</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_stop">is_stop</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN> 
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">==</SPAN> <A href="agg_basics.h.html#path_cmd_stop">path_cmd_stop</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//--------------------------------------------------------------<A name="is_move_to"><B></B></A><A href="agg_basics.h.html#is_move_to">is_move_to</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_move_to">is_move_to</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">==</SPAN> <A href="agg_basics.h.html#path_cmd_move_to">path_cmd_move_to</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//--------------------------------------------------------------<A name="is_line_to"><B></B></A><A href="agg_basics.h.html#is_line_to">is_line_to</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_line_to">is_line_to</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">==</SPAN> <A href="agg_basics.h.html#path_cmd_line_to">path_cmd_line_to</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//----------------------------------------------------------------<A name="is_curve"><B></B></A><A href="agg_basics.h.html#is_curve">is_curve</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_curve">is_curve</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">==</SPAN> <A href="agg_basics.h.html#path_cmd_curve3">path_cmd_curve3</A> <SPAN class="op">||</SPAN> c <SPAN class="op">==</SPAN> <A href="agg_basics.h.html#path_cmd_curve4">path_cmd_curve4</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//---------------------------------------------------------------<A name="is_curve3"><B></B></A><A href="agg_basics.h.html#is_curve3">is_curve3</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_curve3">is_curve3</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">==</SPAN> <A href="agg_basics.h.html#path_cmd_curve3">path_cmd_curve3</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//---------------------------------------------------------------<A name="is_curve4"><B></B></A><A href="agg_basics.h.html#is_curve4">is_curve4</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_curve4">is_curve4</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">==</SPAN> <A href="agg_basics.h.html#path_cmd_curve4">path_cmd_curve4</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//-------------------------------------------------------------<A name="is_end_poly"><B></B></A><A href="agg_basics.h.html#is_end_poly">is_end_poly</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_end_poly">is_end_poly</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="op">(</SPAN>c <SPAN class="op">&amp;</SPAN> <A href="agg_basics.h.html#path_cmd_mask">path_cmd_mask</A><SPAN class="op">)</SPAN> <SPAN class="op">==</SPAN> <A href="agg_basics.h.html#path_cmd_end_poly">path_cmd_end_poly</A><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//----------------------------------------------------------------<A name="is_close"><B></B></A><A href="agg_basics.h.html#is_close">is_close</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_close">is_close</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="op">(</SPAN>c <SPAN class="op">&amp;</SPAN> ~<SPAN class="op">(</SPAN><A href="agg_basics.h.html#path_flags_cw">path_flags_cw</A> <SPAN class="op">|</SPAN> <A href="agg_basics.h.html#path_flags_ccw">path_flags_ccw</A><SPAN class="op">)</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">==</SPAN>
               <SPAN class="op">(</SPAN><A href="agg_basics.h.html#path_cmd_end_poly">path_cmd_end_poly</A> <SPAN class="op">|</SPAN> <A href="agg_basics.h.html#path_flags_close">path_flags_close</A><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN> 
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//------------------------------------------------------------<A name="is_next_poly"><B></B></A><A href="agg_basics.h.html#is_next_poly">is_next_poly</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_next_poly">is_next_poly</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <A href="agg_basics.h.html#is_stop">is_stop</A><SPAN class="op">(</SPAN>c<SPAN class="op">)</SPAN> <SPAN class="op">||</SPAN> <A href="agg_basics.h.html#is_move_to">is_move_to</A><SPAN class="op">(</SPAN>c<SPAN class="op">)</SPAN> <SPAN class="op">||</SPAN> <A href="agg_basics.h.html#is_end_poly">is_end_poly</A><SPAN class="op">(</SPAN>c<SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//-------------------------------------------------------------------<A name="is_cw"><B></B></A><A href="agg_basics.h.html#is_cw">is_cw</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_cw">is_cw</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="op">(</SPAN>c <SPAN class="op">&amp;</SPAN> <A href="agg_basics.h.html#path_flags_cw">path_flags_cw</A><SPAN class="op">)</SPAN> <SPAN class="op">!=</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//------------------------------------------------------------------<A name="is_ccw"><B></B></A><A href="agg_basics.h.html#is_ccw">is_ccw</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_ccw">is_ccw</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="op">(</SPAN>c <SPAN class="op">&amp;</SPAN> <A href="agg_basics.h.html#path_flags_ccw">path_flags_ccw</A><SPAN class="op">)</SPAN> <SPAN class="op">!=</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//-------------------------------------------------------------<A name="is_oriented"><B></B></A><A href="agg_basics.h.html#is_oriented">is_oriented</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_oriented">is_oriented</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="op">(</SPAN>c <SPAN class="op">&amp;</SPAN> <SPAN class="op">(</SPAN><A href="agg_basics.h.html#path_flags_cw">path_flags_cw</A> <SPAN class="op">|</SPAN> <A href="agg_basics.h.html#path_flags_ccw">path_flags_ccw</A><SPAN class="op">)</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">!=</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">;</SPAN> 
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//---------------------------------------------------------------<A name="is_closed"><B></B></A><A href="agg_basics.h.html#is_closed">is_closed</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_closed">is_closed</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <SPAN class="op">(</SPAN>c <SPAN class="op">&amp;</SPAN> <A href="agg_basics.h.html#path_flags_close">path_flags_close</A><SPAN class="op">)</SPAN> <SPAN class="op">!=</SPAN> <SPAN class="num">0</SPAN><SPAN class="op">;</SPAN> 
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//----------------------------------------------------------<A name="get_close_flag"><B></B></A><A href="agg_basics.h.html#get_close_flag">get_close_flag</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#get_close_flag">get_close_flag</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">&amp;</SPAN> <A href="agg_basics.h.html#path_flags_close">path_flags_close</A><SPAN class="op">;</SPAN> 
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//-------------------------------------------------------<A name="clear_orientation"><B></B></A><A href="agg_basics.h.html#clear_orientation">clear_orientation</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#clear_orientation">clear_orientation</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">&amp;</SPAN> ~<SPAN class="op">(</SPAN><A href="agg_basics.h.html#path_flags_cw">path_flags_cw</A> <SPAN class="op">|</SPAN> <A href="agg_basics.h.html#path_flags_ccw">path_flags_ccw</A><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//---------------------------------------------------------<A name="get_orientation"><B></B></A><A href="agg_basics.h.html#get_orientation">get_orientation</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#get_orientation">get_orientation</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> c <SPAN class="op">&amp;</SPAN> <SPAN class="op">(</SPAN><A href="agg_basics.h.html#path_flags_cw">path_flags_cw</A> <SPAN class="op">|</SPAN> <A href="agg_basics.h.html#path_flags_ccw">path_flags_ccw</A><SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//---------------------------------------------------------<A name="set_orientation"><B></B></A><A href="agg_basics.h.html#set_orientation">set_orientation</A></SPAN>
    <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">unsigned</SPAN> <A href="agg_basics.h.html#set_orientation">set_orientation</A><SPAN class="op">(</SPAN><SPAN class="kw1">unsigned</SPAN> c<SPAN class="op">,</SPAN> <SPAN class="kw1">unsigned</SPAN> o<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> <A href="agg_basics.h.html#clear_orientation">clear_orientation</A><SPAN class="op">(</SPAN>c<SPAN class="op">)</SPAN> <SPAN class="op">|</SPAN> o<SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

    <SPAN class="rem">//--------------------------------------------------------------<A name="point_base"><B></B></A><A href="agg_basics.h.html#point_base">point_base</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> T<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#point_base">point_base</A>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">typedef</SPAN> T value_type<SPAN class="op">;</SPAN>
        T x<SPAN class="op">,</SPAN>y<SPAN class="op">;</SPAN>
        <A href="agg_basics.h.html#point_base">point_base</A><SPAN class="op">(</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
        <A href="agg_basics.h.html#point_base">point_base</A><SPAN class="op">(</SPAN>T x_<SPAN class="op">,</SPAN> T y_<SPAN class="op">)</SPAN> : x<SPAN class="op">(</SPAN>x_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> y<SPAN class="op">(</SPAN>y_<SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#point_base">point_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">int</SPAN><SPAN class="op">&gt;</SPAN>    <A href="agg_basics.h.html#point_i">point_i</A><SPAN class="op">;</SPAN> <SPAN class="rem">//-----<A name="point_i"><B></B></A><A href="agg_basics.h.html#point_i">point_i</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#point_base">point_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">float</SPAN><SPAN class="op">&gt;</SPAN>  <A href="agg_basics.h.html#point_f">point_f</A><SPAN class="op">;</SPAN> <SPAN class="rem">//-----<A name="point_f"><B></B></A><A href="agg_basics.h.html#point_f">point_f</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#point_base">point_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">double</SPAN><SPAN class="op">&gt;</SPAN> <A href="agg_basics.h.html#point_d">point_d</A><SPAN class="op">;</SPAN> <SPAN class="rem">//-----<A name="point_d"><B></B></A><A href="agg_basics.h.html#point_d">point_d</A></SPAN>

    <SPAN class="rem">//-------------------------------------------------------------<A name="vertex_base"><B></B></A><A href="agg_basics.h.html#vertex_base">vertex_base</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> T<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#vertex_base">vertex_base</A>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">typedef</SPAN> T value_type<SPAN class="op">;</SPAN>
        T x<SPAN class="op">,</SPAN>y<SPAN class="op">;</SPAN>
        <SPAN class="kw1">unsigned</SPAN> cmd<SPAN class="op">;</SPAN>
        <A href="agg_basics.h.html#vertex_base">vertex_base</A><SPAN class="op">(</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
        <A href="agg_basics.h.html#vertex_base">vertex_base</A><SPAN class="op">(</SPAN>T x_<SPAN class="op">,</SPAN> T y_<SPAN class="op">,</SPAN> <SPAN class="kw1">unsigned</SPAN> cmd_<SPAN class="op">)</SPAN> : x<SPAN class="op">(</SPAN>x_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> y<SPAN class="op">(</SPAN>y_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> cmd<SPAN class="op">(</SPAN>cmd_<SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#vertex_base">vertex_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">int</SPAN><SPAN class="op">&gt;</SPAN>    <A href="agg_basics.h.html#vertex_i">vertex_i</A><SPAN class="op">;</SPAN> <SPAN class="rem">//-----<A name="vertex_i"><B></B></A><A href="agg_basics.h.html#vertex_i">vertex_i</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#vertex_base">vertex_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">float</SPAN><SPAN class="op">&gt;</SPAN>  <A href="agg_basics.h.html#vertex_f">vertex_f</A><SPAN class="op">;</SPAN> <SPAN class="rem">//-----<A name="vertex_f"><B></B></A><A href="agg_basics.h.html#vertex_f">vertex_f</A></SPAN>
    <SPAN class="kw1">typedef</SPAN> <A href="agg_basics.h.html#vertex_base">vertex_base</A><SPAN class="op">&lt;</SPAN><SPAN class="kw1">double</SPAN><SPAN class="op">&gt;</SPAN> <A href="agg_basics.h.html#vertex_d">vertex_d</A><SPAN class="op">;</SPAN> <SPAN class="rem">//-----<A name="vertex_d"><B></B></A><A href="agg_basics.h.html#vertex_d">vertex_d</A></SPAN>

    <SPAN class="rem">//----------------------------------------------------------------<A name="row_info"><B></B></A><A href="agg_basics.h.html#row_info">row_info</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> T<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#row_info">row_info</A>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">int</SPAN> x1<SPAN class="op">,</SPAN> x2<SPAN class="op">;</SPAN>
        T<SPAN class="op">*</SPAN> ptr<SPAN class="op">;</SPAN>
        <A href="agg_basics.h.html#row_info">row_info</A><SPAN class="op">(</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
        <A href="agg_basics.h.html#row_info">row_info</A><SPAN class="op">(</SPAN><SPAN class="kw1">int</SPAN> x1_<SPAN class="op">,</SPAN> <SPAN class="kw1">int</SPAN> x2_<SPAN class="op">,</SPAN> T<SPAN class="op">*</SPAN> ptr_<SPAN class="op">)</SPAN> : x1<SPAN class="op">(</SPAN>x1_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> x2<SPAN class="op">(</SPAN>x2_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> ptr<SPAN class="op">(</SPAN>ptr_<SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//----------------------------------------------------------<A name="const_row_info"><B></B></A><A href="agg_basics.h.html#const_row_info">const_row_info</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> T<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">struct</SPAN> <A href="agg_basics.h.html#const_row_info">const_row_info</A>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">int</SPAN> x1<SPAN class="op">,</SPAN> x2<SPAN class="op">;</SPAN>
        <SPAN class="kw1">const</SPAN> T<SPAN class="op">*</SPAN> ptr<SPAN class="op">;</SPAN>
        <A href="agg_basics.h.html#const_row_info">const_row_info</A><SPAN class="op">(</SPAN><SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
        <A href="agg_basics.h.html#const_row_info">const_row_info</A><SPAN class="op">(</SPAN><SPAN class="kw1">int</SPAN> x1_<SPAN class="op">,</SPAN> <SPAN class="kw1">int</SPAN> x2_<SPAN class="op">,</SPAN> <SPAN class="kw1">const</SPAN> T<SPAN class="op">*</SPAN> ptr_<SPAN class="op">)</SPAN> : 
            x1<SPAN class="op">(</SPAN>x1_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> x2<SPAN class="op">(</SPAN>x2_<SPAN class="op">)</SPAN><SPAN class="op">,</SPAN> ptr<SPAN class="op">(</SPAN>ptr_<SPAN class="op">)</SPAN> <SPAN class="op">{</SPAN><SPAN class="op">}</SPAN>
    <SPAN class="op">}</SPAN><SPAN class="op">;</SPAN>

    <SPAN class="rem">//------------------------------------------------------------<A name="is_equal_eps"><B></B></A><A href="agg_basics.h.html#is_equal_eps">is_equal_eps</A></SPAN>
    <SPAN class="kw1">template</SPAN><SPAN class="op">&lt;</SPAN><SPAN class="kw1">class</SPAN> T<SPAN class="op">&gt;</SPAN> <SPAN class="kw1">inline</SPAN> <SPAN class="kw1">bool</SPAN> <A href="agg_basics.h.html#is_equal_eps">is_equal_eps</A><SPAN class="op">(</SPAN>T v1<SPAN class="op">,</SPAN> T v2<SPAN class="op">,</SPAN> T epsilon<SPAN class="op">)</SPAN>
    <SPAN class="op">{</SPAN>
        <SPAN class="kw1">return</SPAN> fabs<SPAN class="op">(</SPAN>v1 <SPAN class="op">-</SPAN> v2<SPAN class="op">)</SPAN> <SPAN class="op">&lt;=</SPAN> <SPAN class="kw1">double</SPAN><SPAN class="op">(</SPAN>epsilon<SPAN class="op">)</SPAN><SPAN class="op">;</SPAN>
    <SPAN class="op">}</SPAN>

<SPAN class="op">}</SPAN>


<SPAN class="kw2">#endif</SPAN>

</PRE></TD></TR></TABLE><FONT style="margin-left:1em"><I></I></FONT><TABLE width="640px" bgcolor="#583927" height="1px" border="0" cellspacing="0" cellpadding="0" style="margin:0px;"><TR><TD></TD></TR></TABLE>
<TABLE width="640px" border="0" cellspacing="0" cellpadding="0">
<TR><TD><CENTER><SPAN class="authors">
Copyright <SPAN class="larger">&#169;</SPAN> 2002-2006
<A href="../../mcseem/index.html"><B>Maxim Shemanarev</B></A>
</SPAN></CENTER></TD></TR>
<TR><TD><CENTER><SPAN class="authors">
Web Design and Programming
<A href="../../mcseem/index.html"><B>Maxim Shemanarev</B></A>
</SPAN></CENTER></TD></TR>
</TABLE>
<BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/>
<BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/>
<BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/>
<BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/><BR/>
</HTML>
